<h1><%= pluralize(@movies.size, 'Movie') %></h1>

<% @movies.each do |movie| %>
    <p>
      <article class="movie">
        <header>
          <%= image_for movie %>
          <h1><%= link_to movie.title, movie %></h1>

          <h3><%= movie.cast %></h3>
          <p><%= truncate(movie.description, :length => 40, :separator => ' ') %></p>
        </header>
        <table>
          <tr>
            <th>Released:</th>
            <td><%= movie.released_on.to_s + ' (' + time_ago_in_words(movie.released_on) +')' %></td>
          </tr>
          <tr>
            <th>Rating:</th>
            <td><%= movie.rating %></td>
          </tr>
          <tr>
            <th>Total Gross:</th>
            <td><%= format_total_gross(movie) %></td>
          </tr>
          <tr>
            <th>Duration:</th>
            <td><%= movie.duration %></td>
          </tr>
          <tr>
            <th>Cast:</th>
            <td><%= movie.cast %></td>
          </tr>
        </table>
      </article>
    </p>
<% end %>